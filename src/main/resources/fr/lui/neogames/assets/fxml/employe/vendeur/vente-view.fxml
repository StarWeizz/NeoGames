<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/17.0.12"
      fx:controller="fr.lui.neogames.controllers.employe.vendeur.VenteController"
      spacing="15" style="-fx-padding: 20;">

    <!-- Titre -->
    <Label text="ðŸ’° Point de Vente" style="-fx-font-size: 18px; -fx-font-weight: bold;" />

    <!-- SÃ©lection du client -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="Client:" style="-fx-font-weight: bold;" />
        <ComboBox fx:id="comboClients" prefWidth="200" promptText="SÃ©lectionnez un client" />
        <Label fx:id="lblClientSolde" text="Solde: 0.00 â‚¬" style="-fx-text-fill: #27ae60; -fx-font-weight: bold;" />
    </HBox>

    <Separator />

    <!-- Catalogue de jeux -->
    <Label text="Catalogue" style="-fx-font-size: 14px; -fx-font-weight: bold;" />
    <TableView fx:id="tableCatalogue" VBox.vgrow="SOMETIMES" prefHeight="200">
        <columns>
            <TableColumn fx:id="colNomCatalogue" text="Nom" prefWidth="180" />
            <TableColumn fx:id="colPrixCatalogue" text="Prix" prefWidth="80" />
            <TableColumn fx:id="colStockCatalogue" text="Stock" prefWidth="60" />
        </columns>
    </TableView>

    <!-- Actions sur le catalogue -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="QuantitÃ©:" />
        <Spinner fx:id="spinnerQuantite" initialValue="1" min="1" max="99" prefWidth="80" editable="true" />
        <Button text="âž• Ajouter au panier" onAction="#ajouterAuPanier"
                style="-fx-background-color: #3498db; -fx-text-fill: white;" />
    </HBox>

    <Separator />

    <!-- Panier du client -->
    <Label text="Panier" style="-fx-font-size: 14px; -fx-font-weight: bold;" />
    <TableView fx:id="tablePanier" VBox.vgrow="SOMETIMES" prefHeight="150">
        <columns>
            <TableColumn fx:id="colNomPanier" text="Nom" prefWidth="180" />
            <TableColumn fx:id="colQuantitePanier" text="QtÃ©" prefWidth="50" />
            <TableColumn fx:id="colPrixUnitaire" text="Prix unit." prefWidth="80" />
            <TableColumn fx:id="colTotalPanier" text="Total" prefWidth="80" />
        </columns>
    </TableView>

    <!-- Total et actions -->
    <HBox spacing="20" alignment="CENTER_RIGHT" style="-fx-padding-top: 10;">
        <Label fx:id="lblTotal" text="Total: 0.00 â‚¬"
               style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />
    </HBox>

    <HBox spacing="10" alignment="CENTER_RIGHT">
        <Button text="ðŸ—‘ï¸ Vider le panier" onAction="#viderPanier"
                style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 20;" />
        <Button text="âœ… Valider la vente" onAction="#validerVente"
                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 20;" />
    </HBox>

</VBox>
